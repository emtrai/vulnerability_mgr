var ModConst = require("./config").Config;
// var ModComm = require("./common");

function log(type, tag, msg){
    console.log(type + " " + (new Date().toISOString()) + " " + tag + ": " + msg);
};
function logE(type, tag, msg){
    console.error(type + " " + (new Date().toISOString()) + " " + tag + ": " + msg);
};

function Log(tag){
    this.tag = tag;
}


Log.prototype.i = function(msg){
    log("I", this.tag, msg);
}


Log.prototype.d = function(msg){
    if (ModConst.DEBUG){
        log("D", this.tag, msg);
    }
}

Log.prototype.e = function(msg){
    logE("E", this.tag, msg);
}

exports.build = function(tag){
    return new Log(tag);
}